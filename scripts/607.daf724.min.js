"use strict";(self.webpackChunklaboratory=self.webpackChunklaboratory||[]).push([[607],{5880:function(e,t,n){n.d(t,{Xo:function(){return y},gr:function(){return v},Le:function(){return i},DS:function(){return s},jU:function(){return f}});var a=n(67294),r=n(94184),l=n.n(r),o=function(e){return a.createElement("article",{className:l()("layout",e.className),style:e.style},e.children)},s=(0,a.memo)(o),c=function(e){return a.createElement("header",{className:l()("layout-header",e.className),style:e.style},e.children)},i=(0,a.memo)(c),u=n(51057),m=function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length,n=new Array(t>1?t-1:0),a=1;a<t;a++)n[a-1]=arguments[a];return l().apply(void 0,["layout-sider".concat(e)].concat(n))},d=function(e){return a.createElement("div",{className:m("",e.className),style:e.style},a.createElement("div",{className:m("__top")},a.createElement("a",{href:"/laboratory/"},a.createElement("img",{alt:"logo",className:m("__logo"),src:u})),a.createElement("span",{className:m("__name")},"Laboratory")),e.children)},f=(0,a.memo)(d),p=function(e){return a.createElement("section",{className:l()("layout-content",e.className),style:e.style},e.children)},v=(0,a.memo)(p),h=function(e){return a.createElement("div",{className:l()("layout-container",e.className),style:e.style},a.createElement("div",{className:l()("layout-wrapper",e.wrapperClassName),style:e.wrapperStyle},e.children))},y=(0,a.memo)(h)},68607:function(e,t,n){n.r(t),n.d(t,{default:function(){return N}}),n(97970);var a=n(71577),r=(n(89425),n(24044)),l=n(6610),o=n(5991),s=n(63349),c=n(10379),i=n(46070),u=n(77608),m=n(96156),d=n(67294),f=n(96486),p=n.n(f),v=n(5880),h=n(45697),y=n.n(h),g=n(35369);var Z=function(e){(0,c.Z)(r,e);var t,n,a=(t=r,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,a=(0,u.Z)(t);if(n){var r=(0,u.Z)(this).constructor;e=Reflect.construct(a,arguments,r)}else e=a.apply(this,arguments);return(0,i.Z)(this,e)});function r(e){var t;return(0,l.Z)(this,r),t=a.call(this,e),(0,m.Z)((0,s.Z)(t),"validateRuleItem",(function(e,t){return e.required&&!t?e.message:e.validator?(e.validator(e,t,(function(t){n=t||e.message})),n):void 0;var n})),(0,m.Z)((0,s.Z)(t),"getValidateMessages",(function(e,n){var a={},r=t.props.rules,l=t.state,o=l.originalModel,s=l.isValidated;for(var c in r)if(n||void 0!==e[c]&&(e[c]!==o[c]||s[c])){if(s[c]=!0,p().isArray(r[c])){for(var i=0;i<r[c].length;i++){var u=t.validateRuleItem(r[c][i],e[c]);if(u){a[c]=u;break}}continue}if(p().isPlainObject(r[c])){var m=t.validateRuleItem(r[c],e[c]);m&&(a[c]=m);continue}}return t.setState({countModel:p().cloneDeep(s)}),a})),(0,m.Z)((0,s.Z)(t),"validate",(function(e){var n=t.props.model,a=t.getValidateMessages(n,!0),r=Object.keys(a).length>0?a:null;t.setState({messages:a}),e(r,n)})),t.state={messages:{},originalModel:{},isValidated:{}},r.validate=t.validate,t}return(0,o.Z)(r,[{key:"componentWillMount",value:function(){var e=this.props.model;this.setState({originalModel:e})}},{key:"componentWillReceiveProps",value:function(e){if(!(0,g.is)((0,g.d0)(this.props.model),(0,g.d0)(e.model))){var t=this.getValidateMessages(e.model);this.setState({messages:t})}}},{key:"shouldComponentUpdate",value:function(e,t){return!(0,g.is)((0,g.d0)(this.props),(0,g.d0)(e))||!(0,g.is)((0,g.d0)(this.state),(0,g.d0)(t))}},{key:"render",value:function(){return(0,this.props.children)(this.state.messages)}}]),r}(d.Component);(0,m.Z)(Z,"propTypes",{model:y().object,rules:y().object,children:y().func});var E=Z;var N=function(e){(0,c.Z)(h,e);var t,n,f=(t=h,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,a=(0,u.Z)(t);if(n){var r=(0,u.Z)(this).constructor;e=Reflect.construct(a,arguments,r)}else e=a.apply(this,arguments);return(0,i.Z)(this,e)});function h(){var e;return(0,l.Z)(this,h),e=f.call(this),(0,m.Z)((0,s.Z)(e),"onSetValue",(function(t,n){var a=n.target.value,r=p().cloneDeep(e.state.model);r[t]=a,e.setState({model:r})})),(0,m.Z)((0,s.Z)(e),"handleValidate",(function(){E.validate((function(e,t){console.log("error",e),console.log("model",t)}))})),e.state={model:{name:"",phone:""},rules:{name:{required:!0,message:"Please type name"},phone:[{required:!0,message:"Please type phone"},{validator:function(e,t,n){console.log("rule",e),console.log("value",t),/^1\d{10}$/.test(t)?n():n("Please type the correct phone, inside")},message:"Please type the correct phone, outside"}]}},e}return(0,o.Z)(h,[{key:"render",value:function(){var e=this,t=this.state,n=t.model,l=t.rules;return d.createElement(v.Xo,null,d.createElement(E,{model:n,rules:l},(function(t){return d.createElement("div",{className:"validate-wrap"},d.createElement("div",{className:"validate-row"},d.createElement(r.Z,{value:n.name,placeholder:"Please type name",onChange:e.onSetValue.bind(e,"name")}),d.createElement("p",null,t.name)),d.createElement("div",{className:"validate-row"},d.createElement(r.Z,{value:n.phone,placeholder:"Please type phone",onChange:e.onSetValue.bind(e,"phone")}),d.createElement("p",null,t.phone)),d.createElement(a.Z,{onClick:e.handleValidate},"验证"))})))}}]),h}(d.PureComponent)},51057:function(e,t,n){e.exports=n.p+"images/logo.900a13.svg"}}]);