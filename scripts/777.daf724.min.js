(self.webpackChunklaboratory=self.webpackChunklaboratory||[]).push([[777],{5880:function(e,t,n){"use strict";n.d(t,{Xo:function(){return y},gr:function(){return h},Le:function(){return i},DS:function(){return l},jU:function(){return f}});var s=n(67294),r=n(94184),a=n.n(r),o=function(e){return s.createElement("article",{className:a()("layout",e.className),style:e.style},e.children)},l=(0,s.memo)(o),c=function(e){return s.createElement("header",{className:a()("layout-header",e.className),style:e.style},e.children)},i=(0,s.memo)(c),u=n(51057),p=function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length,n=new Array(t>1?t-1:0),s=1;s<t;s++)n[s-1]=arguments[s];return a().apply(void 0,["layout-sider".concat(e)].concat(n))},d=function(e){return s.createElement("div",{className:p("",e.className),style:e.style},s.createElement("div",{className:p("__top")},s.createElement("a",{href:"/laboratory/"},s.createElement("img",{alt:"logo",className:p("__logo"),src:u})),s.createElement("span",{className:p("__name")},"Laboratory")),e.children)},f=(0,s.memo)(d),m=function(e){return s.createElement("section",{className:a()("layout-content",e.className),style:e.style},e.children)},h=(0,s.memo)(m),j=function(e){return s.createElement("div",{className:a()("layout-container",e.className),style:e.style},s.createElement("div",{className:a()("layout-wrapper",e.wrapperClassName),style:e.wrapperStyle},e.children))},y=(0,s.memo)(j)},9145:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return M}});var s=n(6610),r=n(5991),a=n(63349),o=n(10379),l=n(46070),c=n(77608),i=n(96156),u=n(67294),p=n(45697),d=n.n(p),f=n(30381),m=n.n(f),h=n(22122),j=n(2040),y=n(96486),v=n(30845),b=n(50316),k=(n(35842),n(68351)),g=(n(52235),n(59314)),Z=(n(96467),n(8834)),C=(n(78844),n(82530)),w=(n(85595),n(21888)),P=(n(89425),n(24044)),N=(n(49179),n(92170)),E=(n(39038),n(9676)),D=(n(97970),n(71577)),R=(n(9014),{AutoComplete:n(49288).Z,Button:D.Z,Checkbox:E.Z,DatePicker:N.Z,Input:P.Z,InputNumber:w.Z,Radio:C.ZP,Select:Z.Z,Switch:g.Z,TimePicker:k.Z}),O=n(38311),T={Select:{getPopupContainer:function(e){var t;return null==e||null===(t=e.parentNode)||void 0===t?void 0:t.parentNode}},"DatePicker.RangePicker":{ranges:{"昨天":[m()().subtract({days:1}),m()().subtract({days:1})],"今天":[m()(),m()()],"近一个周":[m()().subtract({weeks:1}),m()().subtract({days:1})],"近一个月":[m()().subtract({months:1}),m()().subtract({days:1})]}}};function S(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,s)}return n}function z(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?S(Object(n),!0).forEach((function(t){(0,i.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):S(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var q=function(e){(0,o.Z)(d,e);var t,n,p=(t=d,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,s=(0,c.Z)(t);if(n){var r=(0,c.Z)(this).constructor;e=Reflect.construct(s,arguments,r)}else e=s.apply(this,arguments);return(0,l.Z)(this,e)});function d(e){var t;return(0,s.Z)(this,d),t=p.call(this,e),(0,i.Z)((0,a.Z)(t),"initFilters",(function(e){var n=t.props,s=n.options,r=n.datasource,a=n.defaultModel,o=(0,y.cloneDeep)(t.state.model),l=(0,y.cloneDeep)(s).map((function(e,n){e.key&&(o[e.key]=t.setDefaultValue(e,a)),T[e.componentType]&&(e.props=Object.assign((0,y.cloneDeep)(T[e.componentType]),e.props||{})),e.request&&t.onRequest(e.request,o[e.key],e),e.datasource&&(e=t.setDatasource(e,r));var s=function(){};e.linkage&&(s=t.setLinkageChange(e));var l=t.setEvents(e,s);return z(z({},e),{},{events:l,component:t.setComponentByType(e.componentType)})}));t.setState({filters:l,model:o},e)})),(0,i.Z)((0,a.Z)(t),"setDefaultValue",(function(e,t){var n,s=null!==(n=t[e.key])&&void 0!==n?n:"";return e.props&&(void 0!==e.props.defaultValue&&(s=e.props.defaultValue),void 0!==e.props.value&&(s=e.props.value)),s})),(0,i.Z)((0,a.Z)(t),"onRequest",(function(e,n,s){var r=t.props.request;if(e){var a={};switch((0,b.kM)(e)){case"string":a.apiName=e;break;case"object":if(a=(0,y.cloneDeep)(e),"function"===(0,b.kM)(e.params)){var o=(0,y.cloneDeep)(t.state.model);a.params=e.params(n,s,o)}break;case"array":e.forEach((function(e){return t.onRequest(e,n,s)}))}r(a)}})),(0,i.Z)((0,a.Z)(t),"setDatasource",(function(e,t){var n;if(null!=t&&t[null==e||null===(n=e.datasource)||void 0===n?void 0:n.key]){var s=e.datasource,r=s.key,a=s.dataPath,o=s.renderToPropKey,l=s.callback,c=s.label,i=s.value,u=a?(0,b.i0)(t[r],a,[]):t[r],p=l?l(u):u;if(e.datasource.data=p,o){var d=z({},e.props);d[o]=l?p:"array"===(0,b.kM)(u)?u.map((function(e){return{label:c?e[c]:e,value:i?e[i]:e}})):u,e.props=d}}return e})),(0,i.Z)((0,a.Z)(t),"setEvents",(function(e,n){var s={};if("object"===(0,b.kM)(e.events)){var r=function(r){var a=e.events[r],o=a.request,l=a.debounceTimer,c=void 0===l?500:l;o&&(s[r]=(0,y.debounce)((function(s){var r;t.onRequest(o,s,e),null!==(r=e.linkage)&&void 0!==r&&r.eventName&&"onChange"!==e.linkage.eventName&&n(s)}),c))};for(var o in e.events)r(o)}var l={};switch(e.componentType){case"Checkbox.Group":case"InputNumber":case"Select":case"Switch":l.onChange=function(r){t.onChange(e.key,r,s.onChange?s.onChange.bind((0,a.Z)(t),r):n.bind((0,a.Z)(t),r))};break;case"DatePicker":case"DatePicker.RangePicker":case"TimePicker":case"TimePicker.RangePicker":l.onChange=function(r,o){t.onChange(e.key,r,s.onChange?s.onChange.bind((0,a.Z)(t),r):n.bind((0,a.Z)(t),r))};break;case"Checkbox":l.onChange=function(r){var o=r.target.checked;t.onChange(e.key,o,s.onChange?s.onChange.bind((0,a.Z)(t),o):n.bind((0,a.Z)(t),o))};break;case"Input":case"Radio":case"Radio.Group":case"MultiInput":default:l.onChange=function(r){var o=r.target.value;t.onChange(e.key,o,s.onChange?s.onChange.bind((0,a.Z)(t),o):n.bind((0,a.Z)(t),o))}}return z(z({},s),l)})),(0,i.Z)((0,a.Z)(t),"setLinkageChange",(function(e){var n=e.linkage,s=n.resetKeys,r=n.request;return function(n){var a=t.props,o=a.options,l=a.defaultModel;if(t.onRequest(r,n,e),s){var c=(0,y.cloneDeep)(t.state.model);switch((0,b.kM)(s)){case"string":var i=o.find((function(e){return e.key===s}));i&&(c[s]=t.setDefaultValue(i,l));break;case"array":var u={};s.forEach((function(e){return u[e]=!0})),o.forEach((function(e){u[e.key]&&(c[e.key]=t.setDefaultValue(e,l))}))}t.setState({model:c})}}})),(0,i.Z)((0,a.Z)(t),"setComponentByType",(function(e){return e.split(".").reduce((function(e,t){return e[t]}),R)})),(0,i.Z)((0,a.Z)(t),"onChange",(function(e,n,s){var r=(0,y.cloneDeep)(t.state.model);r[e]=n,t.setState({model:r},s)})),(0,i.Z)((0,a.Z)(t),"handleFilter",(function(){var e=t.props.onFilter,n=(0,y.cloneDeep)(t.state.model);e&&e(n)})),(0,i.Z)((0,a.Z)(t),"handleReset",(function(){var e=t.props.onReset;t.initFilters((function(){var n=(0,y.cloneDeep)(t.state.model);e&&e(n)}))})),(0,i.Z)((0,a.Z)(t),"setComponentWidth",(0,v.Z)((function(e,t){return z({width:"calc(100% - "+("number"==typeof(null==e?void 0:e.width)?(null==e?void 0:e.width)+"px":null==e?void 0:e.width)+")"},t)}))),(0,i.Z)((0,a.Z)(t),"setProps",(0,v.Z)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0,s=e.props||{},r={};return s.notFoundContent&&(r.notFoundContent=s.notFoundContent(n)),z(z(z({},s),r),{},(0,i.Z)({},"Checkbox|Switch".includes(e.componentType)?"checked":"value",t[e.key]))}))),t.state={filters:[],model:{}},t}return(0,r.Z)(d,[{key:"componentDidMount",value:function(){var e=this;this.initFilters((function(){e.props.initFilter&&e.handleFilter()}))}},{key:"componentWillReceiveProps",value:function(e){var t=this,n=e.datasource,s=this.state.filters;if(s.length>0){var r=s.map((function(e){return t.setDatasource(e,n)}));this.setState({filters:r})}}},{key:"render",value:function(){var e=this,t=this.props,n=t.datasource.loading,s=t.layout,r=t.className,a=t.style,o=t.buttonWrapStyle,l=t.filterButton,c=t.resetButton,i=t.otherButton,p=t.children,d=this.state,f=d.filters,m=d.model;return u.createElement("div",{className:"filter"+(r?" "+r:""),style:a},f.map((function(t){var r;return u.createElement("div",{key:t.key,className:"filter-item"+(t.className?" "+t.className:""),style:z(z({},s.item),t.style)},u.createElement("span",{className:"filter-label",style:s.label},t.label),u.createElement(t.component,(0,h.Z)({className:"filter-component"},e.setProps(t,m,n),{style:e.setComponentWidth(s.label,null==t||null===(r=t.props)||void 0===r?void 0:r.style)},t.events),t.children&&t.children(t)))})),p&&u.createElement("div",{className:"filter-item"},p),u.createElement("div",{className:"filter-item--last",style:z(z({},s.item),o)},i,c?(0,u.cloneElement)(c,{onClick:this.handleReset}):u.createElement(R.Button,{style:{marginLeft:20},icon:u.createElement(O.cSf,null),onClick:this.handleReset},"重置"),l?(0,u.cloneElement)(l,{onClick:this.handleFilter}):u.createElement(R.Button,{type:"primary",icon:u.createElement(O.l62,null),onClick:this.handleFilter},"搜索")))}}]),d}(u.PureComponent);(0,i.Z)(q,"propTypes",{options:d().array,datasource:d().object,request:d().func,defaultModel:d().object,initFilter:d().bool,layout:d().shape({item:d().object,label:d().object}),className:d().string,style:d().object,buttonWrapStyle:d().object,filterButton:d().element,resetButton:d().element,otherButton:d().element,children:d().node,onFilter:d().func,onReset:d().func}),(0,i.Z)(q,"defaultProps",{defaultModel:{},initFilter:!0,layout:{},className:""});var B=(0,j.$j)((function(e){return{datasource:e.datasource}}),(function(e){return{request:e.datasource.request}}))(q),x=n(5880);var F=function(e){(0,o.Z)(d,e);var t,n,p=(t=d,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,s=(0,c.Z)(t);if(n){var r=(0,c.Z)(this).constructor;e=Reflect.construct(s,arguments,r)}else e=s.apply(this,arguments);return(0,l.Z)(this,e)});function d(e){var t;return(0,s.Z)(this,d),t=p.call(this,e),(0,i.Z)((0,a.Z)(t),"getData",(function(e){console.log("getData, model",e),t.setState({output:Object.entries(e)})})),t.state={output:[]},t.filterOptions=[{label:"省：",key:"province",componentType:"Select",props:{showArrow:!0,placeholder:"全部"},request:"getProvinces",datasource:{key:"provinces",dataPath:"china.provinces",renderToPropKey:"options"},linkage:{resetKeys:["city","county"],request:{apiName:"getCities",params:function(e){return{province:e}},forceUpdate:!0}}},{label:"市：",key:"city",componentType:"Select",props:{showArrow:!0,placeholder:"全部"},datasource:{key:"cities",renderToPropKey:"options"},linkage:{resetKeys:"county",request:{apiName:"getCounties",params:function(e){return{city:e}},forceUpdate:!0}}},{label:"区/县：",key:"county",componentType:"Select",props:{showArrow:!0,placeholder:"全部"},datasource:{key:"counties",renderToPropKey:"options"}},{label:"日期：",key:"dates",componentType:"DatePicker.RangePicker",props:{defaultValue:[m()().subtract({weeks:1}),m()().subtract({days:1})],disabledDate:function(e){return e.isBefore(m()().subtract(3,"months"))||e.isAfter(m()())}}},{label:"",key:"checked",componentType:"Checkbox",children:function(e){return"Checkbox"}},{label:"",key:"fruits",componentType:"Checkbox.Group",props:{options:[{label:"Apple",value:"Apple"},{label:"Pear",value:"Pear"},{label:"Orange",value:"Orange"}]}},{label:"",key:"radio.group",componentType:"Radio.Group",props:{options:[{label:"A",value:"A"},{label:"B",value:"B"},{label:"C",value:"C"}]}},{label:"",key:"switch",componentType:"Switch",props:{style:{width:"auto",flexGrow:0},checkedChildren:u.createElement(O.buK,null),unCheckedChildren:u.createElement(O.XSi,null),defaultChecked:!0}}],t}return(0,r.Z)(d,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){return u.createElement(x.Xo,null,u.createElement(B,{layout:{item:{width:"33%"},label:{width:60}},options:this.filterOptions,buttonWrapStyle:{width:"99%"},onFilter:this.getData,onReset:this.getData}),this.state.output.map((function(e,t){return u.createElement("p",{key:t},e[0],": ",e[1]&&e[1].toString())})))}}]),d}(u.PureComponent);(0,i.Z)(F,"propTypes",{string:d().string,className:d().string,style:d().object}),(0,i.Z)(F,"defaultProps",{className:""});var M=F},46700:function(e,t,n){var s={"./af":42786,"./af.js":42786,"./ar":30867,"./ar-dz":14130,"./ar-dz.js":14130,"./ar-kw":96135,"./ar-kw.js":96135,"./ar-ly":56440,"./ar-ly.js":56440,"./ar-ma":47702,"./ar-ma.js":47702,"./ar-sa":16040,"./ar-sa.js":16040,"./ar-tn":37100,"./ar-tn.js":37100,"./ar.js":30867,"./az":31083,"./az.js":31083,"./be":9808,"./be.js":9808,"./bg":68338,"./bg.js":68338,"./bm":67438,"./bm.js":67438,"./bn":8905,"./bn-bd":76225,"./bn-bd.js":76225,"./bn.js":8905,"./bo":11560,"./bo.js":11560,"./br":1278,"./br.js":1278,"./bs":80622,"./bs.js":80622,"./ca":2468,"./ca.js":2468,"./cs":5822,"./cs.js":5822,"./cv":50877,"./cv.js":50877,"./cy":47373,"./cy.js":47373,"./da":24780,"./da.js":24780,"./de":59740,"./de-at":60217,"./de-at.js":60217,"./de-ch":60894,"./de-ch.js":60894,"./de.js":59740,"./dv":5300,"./dv.js":5300,"./el":50837,"./el.js":50837,"./en-au":78348,"./en-au.js":78348,"./en-ca":77925,"./en-ca.js":77925,"./en-gb":22243,"./en-gb.js":22243,"./en-ie":46436,"./en-ie.js":46436,"./en-il":47207,"./en-il.js":47207,"./en-in":44175,"./en-in.js":44175,"./en-nz":76319,"./en-nz.js":76319,"./en-sg":1626,"./en-sg.js":1626,"./eo":92915,"./eo.js":92915,"./es":55655,"./es-do":55251,"./es-do.js":55251,"./es-mx":96112,"./es-mx.js":96112,"./es-us":71146,"./es-us.js":71146,"./es.js":55655,"./et":5603,"./et.js":5603,"./eu":77763,"./eu.js":77763,"./fa":76959,"./fa.js":76959,"./fi":11897,"./fi.js":11897,"./fil":42549,"./fil.js":42549,"./fo":94694,"./fo.js":94694,"./fr":94470,"./fr-ca":63049,"./fr-ca.js":63049,"./fr-ch":52330,"./fr-ch.js":52330,"./fr.js":94470,"./fy":5044,"./fy.js":5044,"./ga":29295,"./ga.js":29295,"./gd":2101,"./gd.js":2101,"./gl":38794,"./gl.js":38794,"./gom-deva":27884,"./gom-deva.js":27884,"./gom-latn":23168,"./gom-latn.js":23168,"./gu":95349,"./gu.js":95349,"./he":24206,"./he.js":24206,"./hi":30094,"./hi.js":30094,"./hr":30316,"./hr.js":30316,"./hu":22138,"./hu.js":22138,"./hy-am":11423,"./hy-am.js":11423,"./id":29218,"./id.js":29218,"./is":90135,"./is.js":90135,"./it":90626,"./it-ch":10150,"./it-ch.js":10150,"./it.js":90626,"./ja":39183,"./ja.js":39183,"./jv":24286,"./jv.js":24286,"./ka":12105,"./ka.js":12105,"./kk":47772,"./kk.js":47772,"./km":37766,"./km.js":37766,"./kn":79282,"./kn.js":79282,"./ko":33730,"./ko.js":33730,"./ku":1408,"./ku.js":1408,"./ky":33291,"./ky.js":33291,"./lb":36841,"./lb.js":36841,"./lo":55466,"./lo.js":55466,"./lt":57010,"./lt.js":57010,"./lv":37595,"./lv.js":37595,"./me":39861,"./me.js":39861,"./mi":35493,"./mi.js":35493,"./mk":95966,"./mk.js":95966,"./ml":87341,"./ml.js":87341,"./mn":5115,"./mn.js":5115,"./mr":10370,"./mr.js":10370,"./ms":9847,"./ms-my":41237,"./ms-my.js":41237,"./ms.js":9847,"./mt":72126,"./mt.js":72126,"./my":56165,"./my.js":56165,"./nb":64924,"./nb.js":64924,"./ne":16744,"./ne.js":16744,"./nl":93901,"./nl-be":59814,"./nl-be.js":59814,"./nl.js":93901,"./nn":83877,"./nn.js":83877,"./oc-lnc":92135,"./oc-lnc.js":92135,"./pa-in":15858,"./pa-in.js":15858,"./pl":64495,"./pl.js":64495,"./pt":89520,"./pt-br":57971,"./pt-br.js":57971,"./pt.js":89520,"./ro":96459,"./ro.js":96459,"./ru":21793,"./ru.js":21793,"./sd":40950,"./sd.js":40950,"./se":10490,"./se.js":10490,"./si":90124,"./si.js":90124,"./sk":64249,"./sk.js":64249,"./sl":14985,"./sl.js":14985,"./sq":51104,"./sq.js":51104,"./sr":49131,"./sr-cyrl":79915,"./sr-cyrl.js":79915,"./sr.js":49131,"./ss":85893,"./ss.js":85893,"./sv":98760,"./sv.js":98760,"./sw":91172,"./sw.js":91172,"./ta":27333,"./ta.js":27333,"./te":23110,"./te.js":23110,"./tet":52095,"./tet.js":52095,"./tg":27321,"./tg.js":27321,"./th":9041,"./th.js":9041,"./tk":19005,"./tk.js":19005,"./tl-ph":75768,"./tl-ph.js":75768,"./tlh":89444,"./tlh.js":89444,"./tr":72397,"./tr.js":72397,"./tzl":28254,"./tzl.js":28254,"./tzm":51106,"./tzm-latn":30699,"./tzm-latn.js":30699,"./tzm.js":51106,"./ug-cn":9288,"./ug-cn.js":9288,"./uk":67691,"./uk.js":67691,"./ur":13795,"./ur.js":13795,"./uz":6791,"./uz-latn":60588,"./uz-latn.js":60588,"./uz.js":6791,"./vi":65666,"./vi.js":65666,"./x-pseudo":14378,"./x-pseudo.js":14378,"./yo":75805,"./yo.js":75805,"./zh-cn":83839,"./zh-cn.js":83839,"./zh-hk":55726,"./zh-hk.js":55726,"./zh-mo":99807,"./zh-mo.js":99807,"./zh-tw":74152,"./zh-tw.js":74152};function r(e){var t=a(e);return n(t)}function a(e){if(!n.o(s,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return s[e]}r.keys=function(){return Object.keys(s)},r.resolve=a,e.exports=r,r.id=46700},51057:function(e,t,n){"use strict";e.exports=n.p+"images/logo.900a13.svg"}}]);