(self.webpackChunkreact_laboratory=self.webpackChunkreact_laboratory||[]).push([[58],{19398:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return k}});var r=n(6610),o=n(5991),i=n(10379),a=n(46070),c=n(77608),l=n(67294),s=n(96156),u=n(73935),f=n(45697),d=n.n(f),m=n(42998);var h=function(e){(0,i.Z)(f,e);var t,n,s=(t=f,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=(0,c.Z)(t);if(n){var o=(0,c.Z)(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return(0,a.Z)(this,e)});function f(e){var t;(0,r.Z)(this,f),t=s.call(this,e);var n=e.language.search("-")>-1?e.language.split("-")[0]:e.language;return window.WIDGET={CONFIG:{layout:2,width:"500",height:"300",background:1,dataColor:"ffffff",language:n,key:"54ccfb1d4159431db97d9f1adac745ed"}},t.script=null,t}return(0,o.Z)(f,[{key:"componentDidMount",value:function(){this.script=document.createElement("script"),this.script.src="https://widget.heweather.net/standard/static/js/he-standard-common.js?v=1.1",document.body.appendChild(this.script)}},{key:"componentWillUnmount",value:function(){u.unmountComponentAtNode(this.script),document.body.removeChild(this.script)}},{key:"render",value:function(){return l.createElement("div",{id:"he-plugin-standard"})}}]),f}(l.PureComponent);(0,s.Z)(h,"propTypes",{language:d().string});var p=(0,m.$j)((function(e){return{language:e.user.language}}),null)(h),y=(n(31400),n(36482)),v=n(63349),g=n(80156);var E=function(e){(0,i.Z)(f,e);var t,n,u=(t=f,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=(0,c.Z)(t);if(n){var o=(0,c.Z)(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return(0,a.Z)(this,e)});function f(e){var t;return(0,r.Z)(this,f),t=u.call(this,e),(0,s.Z)((0,v.Z)(t),"getWeaterByType",(function(){t.setState({loading:!0}),g.Z.getWeaterByType({type:"lifestyle",location:"auto_ip",key:"81c887d621274b71ad5e694d0f6e94c4"},{cancelToken:t.source.token}).then((function(e){console.log("response",e);var n=t.handleLifestyle(e.lifestyle);t.setState({loading:!1,lifestyle:n})}),(function(e){g.o.isCancel(e)||(y.Z.error(e.message),t.setState({loading:!1}))}))})),(0,s.Z)((0,v.Z)(t),"handleLifestyle",(function(e){return e.map((function(e){return e.typeText=t.lifestyleTypes[e.type],e.color=t.randomColor(e.typeText),e}))})),(0,s.Z)((0,v.Z)(t),"randomColor",(function(e){var t=e[0].charCodeAt(0).toString(16).slice(0,4);return"#a".concat(t,"f")})),t.state={loading:!1,lifestyle:[]},t.lifestyleTypes={comf:"舒适度指数",cw:"洗车指数",drsg:"穿衣指数",flu:"感冒指数",sport:"运动指数",trav:"旅游指数",uv:"紫外线指数",air:"空气污染扩散条件指数",ac:"空调开启指数",ag:"过敏指数",gl:"太阳镜指数",mu:"化妆指数",airc:"晾晒指数",ptfc:"交通指数",fsh:"钓鱼指数",spi:"防晒指数"},t.source=g.o.CancelToken.source(),t}return(0,o.Z)(f,[{key:"componentDidMount",value:function(){this.getWeaterByType()}},{key:"render",value:function(){return l.createElement("ul",{className:"lifestyle"},this.state.lifestyle.map((function(e){return l.createElement("li",{key:e.type,className:"lifestyle__item",title:e.txt},l.createElement("span",{className:"lifestyle__tag",style:{backgroundColor:e.color}}),l.createElement("p",null,l.createElement("b",null,e.typeText),"：",e.brf),l.createElement("p",{className:"lifestyle__txt"},e.txt))})))}}]),f}(l.PureComponent);var Z=function(e){(0,i.Z)(f,e);var t,n,u=(t=f,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=(0,c.Z)(t);if(n){var o=(0,c.Z)(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return(0,a.Z)(this,e)});function f(e){var t;return(0,r.Z)(this,f),t=u.call(this,e),(0,s.Z)((0,v.Z)(t),"isLeap",(function(e){return e%100==0?e%400==0?1:0:e%4==0?1:0})),(0,s.Z)((0,v.Z)(t),"setCalendar",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Date,n=e.getFullYear(),r=e.getMonth(),o=e.getDate(),i=new Date(n,r,1).getDay()||7,a=[31,28+t.isLeap(n),31,30,31,30,31,31,30,31,30,31];console.log("currentYear",n),console.log("currentMonth",r),console.log("currentDay",o),console.log("firstDay",i),console.log("monthDays",a);for(var c=[],l=1;l<=42;l++){var s=l-i+1,u=!1,f={};s<=0&&0!==r?s=a[r-1]+s:s<=0&&0===r?s=a[a.length-1]+s:s>a[r]?s-=a[r]:u=!0,f.isCurrentMonth=u,f.weekIndex=l%7||7,f.isCurrentWeek=u&&s-o>=0&&s-o<7,f.isCurrentDay=s===o,f.day=s,c.push(f)}t.setState({calendar:c})})),t.state={calendar:[]},t.weekTitles=["一","二","三","四","五","六","日"],t}return(0,o.Z)(f,[{key:"componentDidMount",value:function(){this.setCalendar()}},{key:"render",value:function(){var e=this.weekTitles,t=this.state.calendar;return l.createElement("table",{cellSpacing:"0",cellPadding:"0",className:"calendar__container"},l.createElement("thead",null,l.createElement("tr",null,e.map((function(e,t){return l.createElement("th",{key:t,className:"calendar__title"},e)})))),l.createElement("tbody",null,t.reduce((function(e,t,n){return n%7==0?e.push([t]):e[e.length-1].push(t),e}),[]).map((function(e,t){return l.createElement("tr",{key:t},e.map((function(e,t){return l.createElement("td",{key:t,className:"calendar__item"},l.createElement("span",{className:e.isCurrentWeek?"current-week":e.isCurrentMonth?"":"prev-month"},e.day))})))}))))}}]),f}(l.PureComponent);(0,s.Z)(Z,"propTypes",{className:d().string,style:d().object,children:d().node}),(0,s.Z)(Z,"defaultProps",{className:""});var T=Z;var k=function(e){(0,i.Z)(u,e);var t,n,s=(t=u,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=(0,c.Z)(t);if(n){var o=(0,c.Z)(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return(0,a.Z)(this,e)});function u(e){return(0,r.Z)(this,u),s.call(this,e)}return(0,o.Z)(u,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){return l.createElement("div",{className:"home"},l.createElement("ul",{className:"home-container"},l.createElement("li",{className:"home-block"},l.createElement(p,null)),l.createElement("li",{className:"home-block"},l.createElement(E,null)),l.createElement("li",{className:"home-block"},l.createElement(T,null)),l.createElement("li",{className:"home-block"})))}}]),u}(l.PureComponent)},62809:function(e,t,n){try{var r=n(34155)}catch(e){r=n(34155)}var o=/\s+/,i=Object.prototype.toString;function a(e){if(!e||!e.nodeType)throw new Error("A DOM element reference is required");this.el=e,this.list=e.classList}e.exports=function(e){return new a(e)},a.prototype.add=function(e){if(this.list)return this.list.add(e),this;var t=this.array();return~r(t,e)||t.push(e),this.el.className=t.join(" "),this},a.prototype.remove=function(e){if("[object RegExp]"==i.call(e))return this.removeMatching(e);if(this.list)return this.list.remove(e),this;var t=this.array(),n=r(t,e);return~n&&t.splice(n,1),this.el.className=t.join(" "),this},a.prototype.removeMatching=function(e){for(var t=this.array(),n=0;n<t.length;n++)e.test(t[n])&&this.remove(t[n]);return this},a.prototype.toggle=function(e,t){return this.list?(void 0!==t?t!==this.list.toggle(e,t)&&this.list.toggle(e):this.list.toggle(e),this):(void 0!==t?t?this.add(e):this.remove(e):this.has(e)?this.remove(e):this.add(e),this)},a.prototype.array=function(){var e=(this.el.getAttribute("class")||"").replace(/^\s+|\s+$/g,"").split(o);return""===e[0]&&e.shift(),e},a.prototype.has=a.prototype.contains=function(e){return this.list?this.list.contains(e):!!~r(this.array(),e)}},34155:function(e){e.exports=function(e,t){if(e.indexOf)return e.indexOf(t);for(var n=0;n<e.length;++n)if(e[n]===t)return n;return-1}},4961:function(e,t,n){"use strict";n.d(t,{w:function(){return c}});var r=n(72444),o=n(44590),i=n(62809),a=n.n(i),c=0!==o.Z.endEvents.length,l=["Webkit","Moz","O","ms"],s=["-webkit-","-moz-","-o-","ms-",""];function u(e,t){for(var n=window.getComputedStyle(e,null),r="",o=0;o<s.length&&!(r=n.getPropertyValue(s[o]+t));o++);return r}function f(e){if(c){var t=parseFloat(u(e,"transition-delay"))||0,n=parseFloat(u(e,"transition-duration"))||0,r=parseFloat(u(e,"animation-delay"))||0,o=parseFloat(u(e,"animation-duration"))||0,i=Math.max(n+t,o+r);e.rcEndAnimTimeout=setTimeout((function(){e.rcEndAnimTimeout=null,e.rcEndListener&&e.rcEndListener()}),1e3*i+200)}}function d(e){e.rcEndAnimTimeout&&(clearTimeout(e.rcEndAnimTimeout),e.rcEndAnimTimeout=null)}var m=function(e,t,n){var i="object"===(void 0===t?"undefined":(0,r.default)(t)),c=i?t.name:t,l=i?t.active:t+"-active",s=n,u=void 0,m=void 0,h=a()(e);return n&&"[object Object]"===Object.prototype.toString.call(n)&&(s=n.end,u=n.start,m=n.active),e.rcEndListener&&e.rcEndListener(),e.rcEndListener=function(t){t&&t.target!==e||(e.rcAnimTimeout&&(clearTimeout(e.rcAnimTimeout),e.rcAnimTimeout=null),d(e),h.remove(c),h.remove(l),o.Z.removeEndEventListener(e,e.rcEndListener),e.rcEndListener=null,s&&s())},o.Z.addEndEventListener(e,e.rcEndListener),u&&u(),h.add(c),e.rcAnimTimeout=setTimeout((function(){e.rcAnimTimeout=null,h.add(l),m&&setTimeout(m,0),f(e)}),30),{stop:function(){e.rcEndListener&&e.rcEndListener()}}};m.style=function(e,t,n){e.rcEndListener&&e.rcEndListener(),e.rcEndListener=function(t){t&&t.target!==e||(e.rcAnimTimeout&&(clearTimeout(e.rcAnimTimeout),e.rcAnimTimeout=null),d(e),o.Z.removeEndEventListener(e,e.rcEndListener),e.rcEndListener=null,n&&n())},o.Z.addEndEventListener(e,e.rcEndListener),e.rcAnimTimeout=setTimeout((function(){for(var n in t)t.hasOwnProperty(n)&&(e.style[n]=t[n]);e.rcAnimTimeout=null,f(e)}),0)},m.setTransition=function(e,t,n){var r=t,o=n;void 0===n&&(o=r,r=""),r=r||"",l.forEach((function(t){e.style[t+"Transition"+r]=o}))},m.isCssAnimationSupported=c,t.Z=m}}]);