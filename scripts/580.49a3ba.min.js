"use strict";(self.webpackChunklaboratory=self.webpackChunklaboratory||[]).push([[580],{44768:function(e,t,n){n(17949)},10580:function(e,t,n){n.r(t),n.d(t,{default:function(){return C}});var r=n(6610),a=n(5991),c=n(10379),l=n(46070),o=n(77608),u=n(67294),s=n(96156),i=n(73935),f=n(45697),p=n.n(f),m=n(2040);var y=function(e){(0,c.Z)(f,e);var t,n,s=(t=f,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=(0,o.Z)(t);if(n){var a=(0,o.Z)(this).constructor;e=Reflect.construct(r,arguments,a)}else e=r.apply(this,arguments);return(0,l.Z)(this,e)});function f(e){var t;(0,r.Z)(this,f),t=s.call(this,e);var n=e.language.search("-")>-1?e.language.split("-")[0]:e.language;return window.WIDGET={CONFIG:{layout:2,width:"500",height:"300",background:1,dataColor:"ffffff",language:n,key:"54ccfb1d4159431db97d9f1adac745ed"}},t.script=null,t}return(0,a.Z)(f,[{key:"componentDidMount",value:function(){this.script=document.createElement("script"),this.script.src="https://widget.heweather.net/standard/static/js/he-standard-common.js?v=1.1",document.body.appendChild(this.script)}},{key:"componentWillUnmount",value:function(){i.unmountComponentAtNode(this.script),document.body.removeChild(this.script)}},{key:"render",value:function(){return u.createElement("div",{id:"he-plugin-standard"})}}]),f}(u.PureComponent);(0,s.Z)(y,"propTypes",{language:p().string});var d=(0,m.$j)((function(e){return{language:e.user.language}}),null)(y),h=(n(44768),n(48086)),v=n(63349),g=n(21398);var Z=function(e){(0,c.Z)(f,e);var t,n,i=(t=f,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=(0,o.Z)(t);if(n){var a=(0,o.Z)(this).constructor;e=Reflect.construct(r,arguments,a)}else e=r.apply(this,arguments);return(0,l.Z)(this,e)});function f(e){var t;return(0,r.Z)(this,f),t=i.call(this,e),(0,s.Z)((0,v.Z)(t),"getWeaterByType",(function(){t.setState({loading:!0}),g.Z.getWeaterByType({type:"lifestyle",location:"auto_ip",key:"81c887d621274b71ad5e694d0f6e94c4"},{cancelToken:t.source.token}).then((function(e){console.log("response",e);var n=t.handleLifestyle(e.lifestyle);t.setState({loading:!1,lifestyle:n})}),(function(e){g.o.isCancel(e)||(h.ZP.error(e.message),t.setState({loading:!1}))}))})),(0,s.Z)((0,v.Z)(t),"handleLifestyle",(function(e){return e.map((function(e){return e.typeText=t.lifestyleTypes[e.type],e.color=t.randomColor(e.typeText),e}))})),(0,s.Z)((0,v.Z)(t),"randomColor",(function(e){var t=e[0].charCodeAt(0).toString(16).slice(0,4);return"#a".concat(t,"f")})),t.state={loading:!1,lifestyle:[]},t.lifestyleTypes={comf:"舒适度指数",cw:"洗车指数",drsg:"穿衣指数",flu:"感冒指数",sport:"运动指数",trav:"旅游指数",uv:"紫外线指数",air:"空气污染扩散条件指数",ac:"空调开启指数",ag:"过敏指数",gl:"太阳镜指数",mu:"化妆指数",airc:"晾晒指数",ptfc:"交通指数",fsh:"钓鱼指数",spi:"防晒指数"},t.source=g.o.CancelToken.source(),t}return(0,a.Z)(f,[{key:"componentDidMount",value:function(){this.getWeaterByType()}},{key:"render",value:function(){return u.createElement("ul",{className:"lifestyle"},this.state.lifestyle.map((function(e){return u.createElement("li",{key:e.type,className:"lifestyle__item",title:e.txt},u.createElement("span",{className:"lifestyle__tag",style:{backgroundColor:e.color}}),u.createElement("p",null,u.createElement("b",null,e.typeText),"：",e.brf),u.createElement("p",{className:"lifestyle__txt"},e.txt))})))}}]),f}(u.PureComponent);var k=function(e){(0,c.Z)(f,e);var t,n,i=(t=f,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=(0,o.Z)(t);if(n){var a=(0,o.Z)(this).constructor;e=Reflect.construct(r,arguments,a)}else e=r.apply(this,arguments);return(0,l.Z)(this,e)});function f(e){var t;return(0,r.Z)(this,f),t=i.call(this,e),(0,s.Z)((0,v.Z)(t),"isLeap",(function(e){return e%100==0?e%400==0?1:0:e%4==0?1:0})),(0,s.Z)((0,v.Z)(t),"setCalendar",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Date,n=e.getFullYear(),r=e.getMonth(),a=e.getDate(),c=new Date(n,r,1).getDay()||7,l=[31,28+t.isLeap(n),31,30,31,30,31,31,30,31,30,31];console.log("currentYear",n),console.log("currentMonth",r),console.log("currentDay",a),console.log("firstDay",c),console.log("monthDays",l);for(var o=[],u=1;u<=42;u++){var s=u-c+1,i=!1,f={};s<=0&&0!==r?s=l[r-1]+s:s<=0&&0===r?s=l[l.length-1]+s:s>l[r]?s-=l[r]:i=!0,f.isCurrentMonth=i,f.weekIndex=u%7||7,f.isCurrentWeek=i&&s-a>=0&&s-a<7,f.isCurrentDay=s===a,f.day=s,o.push(f)}t.setState({calendar:o})})),t.state={calendar:[]},t.weekTitles=["一","二","三","四","五","六","日"],t}return(0,a.Z)(f,[{key:"componentDidMount",value:function(){this.setCalendar()}},{key:"render",value:function(){var e=this.weekTitles,t=this.state.calendar;return u.createElement("table",{cellSpacing:"0",cellPadding:"0",className:"calendar__container"},u.createElement("thead",null,u.createElement("tr",null,e.map((function(e,t){return u.createElement("th",{key:t,className:"calendar__title"},e)})))),u.createElement("tbody",null,t.reduce((function(e,t,n){return n%7==0?e.push([t]):e[e.length-1].push(t),e}),[]).map((function(e,t){return u.createElement("tr",{key:t},e.map((function(e,t){return u.createElement("td",{key:t,className:"calendar__item"},u.createElement("span",{className:e.isCurrentWeek?"current-week":e.isCurrentMonth?"":"prev-month"},e.day))})))}))))}}]),f}(u.PureComponent);(0,s.Z)(k,"propTypes",{className:p().string,style:p().object,children:p().node}),(0,s.Z)(k,"defaultProps",{className:""});var E=k;var C=function(e){(0,c.Z)(i,e);var t,n,s=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=(0,o.Z)(t);if(n){var a=(0,o.Z)(this).constructor;e=Reflect.construct(r,arguments,a)}else e=r.apply(this,arguments);return(0,l.Z)(this,e)});function i(e){return(0,r.Z)(this,i),s.call(this,e)}return(0,a.Z)(i,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){return u.createElement("div",{className:"home"},u.createElement("ul",{className:"home-container"},u.createElement("li",{className:"home-block"},u.createElement(d,null)),u.createElement("li",{className:"home-block"},u.createElement(Z,null)),u.createElement("li",{className:"home-block"},u.createElement(E,null)),u.createElement("li",{className:"home-block"})))}}]),i}(u.PureComponent)}}]);